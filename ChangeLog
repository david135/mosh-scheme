2008-07-12  higepon  <higepon@users.sourceforge.jp>

        * Added r6rs-test directory.

        * library.scm (string): Added document of (string ...).

        * freeproc.cpp (scheme::stringEx): Added (string ...).

2008-07-11  higepon  <higepon@users.sourceforge.jp>

        * match.cpp: pre-compiled.

2008-07-10  higepon  <higepon@users.sourceforge.jp>

        * CompilerProcedures.cpp (labelEx): Moved $label to C++.

2008-07-09  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (pass3/find-free): locals, can-frees and frees becomes list of symbols(used to be list of lvars).

2008-07-07  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (merge-insn): Moved merge-insn to C++.

2008-07-05  higepon  <higepon@users.sourceforge.jp>

        * VM.cpp (VM::run): RE added "APPEND2" instruction for perfomance.

        * scheme.h (scheme): inlined car(), cdr(), cons(), makeClosure().

2008-07-04  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (pass3/compile-refer, pass1/find-symbol-in-lvars): Rewrote in C++ for perfomance.

        * CompilerProcedures.h: Added procedures for compiler.

        * compiler.scm (pass3/add-can-frees2): Improved very slow (append2 ...) call on compiler.

2008-07-03  higepon  <higepon@users.sourceforge.jp>

        * CodeBuilder.h (scheme): use ObjectVector instead of gc_vector<Object, gc_allocator<Object> > for perfomance.

        * freeproc.cpp (listTovectorEx): Added for perfomance.

2008-07-02  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (pass3/$asm): Rewrote internal define to global define for perfomance.

2008-07-01  higepon  <higepon@users.sourceforge.jp>

        * freeproc.cpp (lengthEx): Rewrote (length ...) in C++ for perfomance.

        * compiler.scm (pass4/fixup-labels): Rewrote in C++ for perfomance.

2008-06-30  higepon  <higepon@users.sourceforge.jp>

        * VM.cpp (run): Improved cprocedure call speed.

2008-06-28  higepon  <higepon@users.sourceforge.jp>

        * Added (eq-hashtable-copy ht).

        * compiler.scm: removed set-union and set-intersect.


        * compiler.scm (pass3/$call): Changed (%set-union can-frees vars) => (append2 can-frees vars) for perfomance. (thx! koguro)

        * scheme.cpp (Object::cons): comment out source info copy. This made mosh very slow.

        * compiler.scm (pass3/find-free): Removed unnecesary append.

2008-06-26  higepon  <higepon@users.sourceforge.jp>

        * Improved compilaion speed on pass3 phase.

        * freeproc.cpp : Added (make-code-builder), (code-builder-put! cb o),
                               (code-builder-append cb1 cb2) and (code-builder-emit cb).

        * CodeBuilder.h (scheme): Added CodeBuilder object used for more efficient compilation.

2008-06-23  higepon  <higepon@users.sourceforge.jp>

        * library.scm : Added xcons, make-list, list-tabulate, list-copy, list=, split-at, split-at!, not-pair?
                        last-pair, last, circular-list, proper-list?, circular-list? and dotted-list?.

2008-06-20  higepon  <higepon@users.sourceforge.jp>

        * library.scm : Added take, drop, take!, take-right, drop-right
                            , drop-right!, integer?
                            , fifth, sixth, seventh, eighth, ninth and tenth

2008-06-19  higepon  <higepon@users.sourceforge.jp>

        * Pair.h (scheme): Added append(Object l, Object o) for (append ...).

        * compiler.scm (merge-insn): Added (not 'CONSTANT_PUSH) for PUSH_FRAME.

        * VM.cpp (VM::run): Removed APPEND instruction, it is buggy. We use appendEx instead.

2008-06-18  higepon  <higepon@users.sourceforge.jp>

        * main.cpp (main): Added -l option.

        * VM.cpp (VM::storeCallSample): Improved profiler results.

2008-06-17  higepon  <higepon@users.sourceforge.jp>

        * library.scm (string->lines): Added string->lines procedure.
                         (filter-map): Added filter-map, car+cdr (SRFI-1).
                                     : Added map-with-index.

        * Port.cpp (FileBinaryInputPort::FileBinaryInputPort): Fixed file open error condition.

    * VM.cpp (VM::applyClosure): Improved apply procedure. It used to use C stack, so changed not to use C stack.

2008-06-16  higepon  <higepon@users.sourceforge.jp>

    * freeproc.cpp : Fixed (exit) procedure. thx leque.

    * freeproc.cpp (scheme::callProcessEx): Added (call-process "ls").

    * compiler.scm: Improved stack trace, showing file and lineno for precompiled code.

    * scripts/pp.scm: Added for precompiled code.

2008-06-15  higepon  <higepon@users.sourceforge.jp>

    * free-vars.scm (*free-vars*): Added set-source-info for compiler.

2008-06-11  higepon  <higepon@users.sourceforge.jp>

    * library.scm (cons*): Added cons*.

    * freeproc.cpp: Added char>=?, char>? and char<=? and char<?.

    * library.scm (sort!): Fixed SEGV bug.
                           In library.scm, we can't use do macro.
                           Because do macro depend on match macro.

2008-06-10  higepon  <higepon@users.sourceforge.jp>

    * freeproc.cpp (scheme::dynamicWindEx): Added dynamic-wind. It's dummy for psyntax.pp.

2008-06-09  higepon  <higepon@users.sourceforge.jp>

    * VM.cpp : Rewrote multiple values support.

2008-06-06  higepon  <higepon@users.sourceforge.jp>

        * example/grass.scm (make-app): Added Grass interpreter.

2008-06-03  higepon  <higepon@users.sourceforge.jp>

        * test-data.scm (call-with-values): Fixed the bug of (call-with-values (lambda () (values 1 2)) cons).

        * freeproc.cpp (scheme::applyEx): Added argument check.

        * scheme.h (isCallable): Added for apply procedure.

2008-06-02  higepon  <higepon@users.sourceforge.jp>

        * Pair.h (scheme): Rewrote cloneList recut to loop.

        * repl.scm (repl): Added EOF handling for Ctrl-D.

        * VM.cpp (VM::load): Added TRY and CATCH macro.

2008-05-30  higepon  <higepon@users.sourceforge.jp>

        * Port.cpp (TextualOutputPort::putPair): Fixed bug of (write '(quote)).

2008-05-29  higepon  <higepon@users.sourceforge.jp>

        * freeproc.cpp : Added load for internal use.

2008-05-28  higepon  <higepon@users.sourceforge.jp>

        * library.scm : Added procedure?, with-input-from-file.

2008-05-26  higepon  <higepon@users.sourceforge.jp>

        * Fixed case bug (thx leque).

        * compiler.scm (do): Added do macro using match.

        * read.cpp (Scm_StringToNumber): Fixed the bug for '... .
                                         strtol accept "..." and returns 0.

        * freeproc.cpp (scheme::macroexpandEx): Added macroexpand procedure.

2008-05-24  higepon  <higepon@users.sourceforge.jp>

        * match.scm: Added Andrew Wright's match.

        * library.scm : Added (list? obj) procedure.

        * library.scm (string-ref): Added (string-ref s k) procedure.

2008-05-23  higepon  <higepon@users.sourceforge.jp>

        * Added div procedure and some tests.

        * Fixed the bug of mod procedure and added some tests. (thx leque)

2008-05-22  higepon  <higepon@users.sourceforge.jp>

        * Added (exit) procedure.

        * Added profiler.
          With -p option, you can enable profiler.

2008-05-21  higepon  <higepon@users.sourceforge.jp>

        * library.scm (vector-for-each): Added (vector-for-each ...), Added (hash-table-for-each ...).

        * freeproc.cpp (scheme::hashTableKeysEx): Added (hash-table-keys ...)

        * macro.scm: Removed macro.scm.

        * vm.scm: Added pre-compiled macro support.
                  Only for top level macro defined at library.scm.
2008-05-19  higepon  <higepon@users.sourceforge.jp>

        * 0.0.3 released.

        * library.scm : Added for-all.


        * library.scm (even?): Added even? defined at Base Library.

        * freeproc.cpp : Added modulo procedure (mod a b).

        * VM.cpp : Added division support for Integer(Fixnum).

        * freeproc.cpp (scheme::applyEx): Fixed apply bug.

2008-05-18  higepon  <higepon@users.sourceforge.jp>

        * Added typed-vector for R6RS Record base.

        * TypedVector.h : Added.

2008-05-17  higepon  <higepon@users.sourceforge.jp>

        * freeproc.cpp (scheme::raiseContinuableEx): Added (raise-continuable ...).

        * scripts/gen-test.scm (print-test): Added mosh-only syntax, it is used for tests only for mosh.

        * macro.scm (guard): Added guard macro and document.

        * VM.cpp (VM::withExceptionHandler): Added with-exception-handler and document.

        * library.scm (raise): Added (raise ...) document.

        * Added (raise obj) procedure.

        * VM.cpp (VM::showStackTrace): Fixed SEGV with stack overflow.

        * Regexp.cpp: Fixed Regexp endian problem by masa_edw.

        * VM.cpp : Changed call frame structure, SEGV with stack trace fixed.

2008-05-15  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (pass1/sexp->iform): Fixed, (+) => 0, (*) => 1, thx leque.

2008-05-14  higepon  <higepon@users.sourceforge.jp>

        * compiler.scm (cond->if): Fixed the bug when cond clause like (cond ((3))).

        * library.scm (REPL): Added REPL.

        * freeproc.cpp (scheme::evalEx): Added (eval ...). Currently second argument of eval is ignored.

        * 0.0.2 released.

        * Symbol.h (scheme): OS X build patch by mesa_edw.

2008-05-13  higepon  <higepon@users.sourceforge.jp>

        * 0.0.1 released.
